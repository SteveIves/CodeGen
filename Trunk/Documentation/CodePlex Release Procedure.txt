CodePlex Release Procedure
==========================

This document defines the procedure for distributing a new "release" of CodeGen on CodePlex.

----------------------------------------------------------------------------------------------------
DO RELEASE FROM TRUNK

1.	Complete all development for the new version.
    Make sure that any new files have been added to the Workbench projects.

2.  TEST!!!

3.  Check everything in.

4.  Update the help file (new features, release notes, version number, release date, etc.).

5.  Build new HTML help file and Web help files.

6.  Build everything in release mode.

7.  Build a new installer.

8.  Install the new version and run as many tests as possible.

9.  Check everything in with a comment of "updated documentation for new release".

10. Copy the installer to the release history folder.

11. Do the release on CodePlex.

16. Upload web help files to the web site.

----------------------------------------------------------------------------------------------------
CREATE NEW BRANCH FOR RELEASED VERSION

1.  Verify everything checked in, and NO SOLUTION OPEN.

2.  Create the new branch. In Source Control Explorer:

    - Right-click on the Trunk folder and select Branching and Merging > Branch
    - Set Target to $/CodeGen/Branches/X.Y.Z
    - Make sure Branch from Version is set to Latest Version
    - Check the Download the target item to your workspace and Immediately convert source folder to branch options
    - Click OK
    - DO NOT CHECK IN THE CHANGES YET!

3.  Configure the new branch:

    - Check out the CodeGenSetup.isl file from the new branch and edit the file manually and change all \Trunk\ strings to \Branches\X.Y.Z\
    - Check out the CodeGen.hsm file from the new branch and use HelpSmith to change the output locations for HTML help and Web help
    - Open the CodeGen solution in the new branch.
    - Do a File > Save Solution As and change the solution to CodeGen X.Y.Z.sln
    - Make sure the solution name change is reflected in Source Control Explorer

4.  Test the new branch

    - Build the solution in release mode.
    - Build a new installer
    - Test the installer.

5.  Check in all the changes to commit the new branch

----------------------------------------------------------------------------------------------------
PREPARE TRUNK FOR NEXT VERSION

1.  Bump the version number in CodeGenEngine\codegen.def.

2.  Check out CodeGenSetup.isl

3.  Bump the "Product Version" string in the "General Information" page of the CodeGenSetup project.

4.  Generate a new "Product Code" GUID in the CodeGenSetup project. DO NOT change the "Upgrade Code".

5.  Change the "Max Version" in the "Upgrade Paths" page of the CodeGenSetup project to the PREVIOUS distributed version number.

6.  Check in all the changes to commit the version number change.

----------------------------------------------------------------------------------------------------
UPDATE CODEPLEX

1.  If there was a beta release on CodePlex that relates to this release, hide it from the public.

2.  Close any CodePlex "Issues" that are related to the new release.

3.  If necessary, update the associated release number in any issues that were slated for the release but didn't make it in.

4.  Create next release as a "planned" release.

