
CodePlex Release Procedures
===========================

This document defines the procedure for distributing a new "release" of CodeGen on CodePlex.

----------------------------------------------------------------------------------------------------
DO RELEASE FROM TRUNK

1.	Complete all development for the new version.

2.  TEST!!!

3.  Check everything in with appropriate comments.

4.  Update the help file (new features, release notes, version number, release date, etc.).

5.  Build new HTML help file and Web help files.

6.  Build everything in release mode.

7.  Build a new installer.

8.  Digitally sign the installer.

9.  Install the new version and run as many tests as possible.

10. Check everything in with a comment of "updated documentation for new release".

11. Copy the installer to the release history folder.

12. Do the release on CodePlex.

13. Upload web help files to the web site.

----------------------------------------------------------------------------------------------------
CREATE NEW BRANCH FOR RELEASED VERSION

THESE INSTRUCTIONS NEED UPDATING FOR SVN / ANKHSVN.

1.  Verify everything checked in, and NO SOLUTION OPEN.

2.  Create the new branch. In Source Control Explorer:

    - Right-click on the Trunk folder and select Branching and Merging > Branch
    - Set Target to $/CodeGen/Branches/X.Y.Z
    - Make sure Branch from Version is set to Latest Version
    - Check the Download the target item to your workspace and Immediately convert source folder to branch options
    - Click OK
    - DO NOT CHECK IN THE CHANGES YET!

3.  Configure the new branch:

    - SVN rename the main solution file to include the version number. i.e. rename CodeGen.sln to CodeGen X.Y.Z.sln
    - Also enable View Hidden Files and rename the matching .suo file.
    - Edit develop.cmd and update the devenv command to reference the new solution file name, and add quotes because of the space in the file name.
    - Execute develop.bat to launch the new branch in Visual Studio.
    - Set CodeGen as the startup project.
    - Switch the project to Release mode.
    - Build the solution and check the Bin\Release folder to make sure things are going in the correct place.
    - Build the setup project and make sure the MSI file is created in the right place.
    - Use HelpSmith to change the output locations for HTML help and Web help in CodeGen.hsm.
    - Compile HTML Help and make sure the file goes in the correct place.
    - Compile Web Help and make sure the files go in the correct place.

4.  Check in all the changes in the branch with a "(X.Y.X branch) Configured new branch" comment.

----------------------------------------------------------------------------------------------------
PREPARE TRUNK FOR NEXT VERSION

1.  Open the Trunk development environment.

2.  Bump the version number in CodeGenEngine\codegen.def

3.  Bump the version number in CodeGenSetup\Product.wxs

4.  Generate a new "Product Id" GUID in CodeGenSetup\Product.wxs. DO NOT change the "Upgrade Code".

5.  Add a heading for the new version in the release notes section of the documentation.

5.  Check in these changes to commit the version number change with a "Bumped version number for next release" comment.

----------------------------------------------------------------------------------------------------
UPDATE CODEPLEX

1.  If there was a beta release on CodePlex that relates to this release, hide it from the public.

2.  Close any CodePlex "Issues" that are related to the new release.

3.  If necessary, update the associated release number in any issues that were slated for the release but didn't make it in.

4.  Create next release as a "planned" release.

