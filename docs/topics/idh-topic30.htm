<!DOCTYPE HTML>
<html id="hs-topic-p">
<!-- saved from url=(0025)http://www.helpsmith.com/ -->
<head>
<title>Processing GROUP Fields</title>
<meta charset="windows-1252" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="generator" content="HelpSmith 9.4 (Build 22.705)" />
<style type="text/css" media="screen">
html {
  overflow: hidden;
  margin: 0;
  padding: 0;
  height: 100%;
}
body {
  overflow: hidden;
  margin: 0;
  padding: 0;
  height: 100%;
}
#non-scrolling-area {
  padding: 0 10px 0 10px;
  background-color: #5e5f5f;
}
#container {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}
#content {
  padding: 0 10px 5px 10px;
}
</style>
<link type="text/css" rel="stylesheet" href="../css/topics/style.css" />
<script type="text/javascript" src="../js/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../js/nsa.js?0a86901a"></script>
<script type="text/javascript" src="../js/settings.js?0da55e1a"></script>
<script type="text/javascript" src="../js/core.min.js?0a86901a"></script>
<script type="text/javascript" src="../js/topic.min.js?0a86901a"></script>
<script type="text/javascript">
	var topicContext = 30;
</script>
<!-- Web Help Topic -->
  
<!-- HTML Help (CHM) Topic -->
</head>
<body>
<div id="non-scrolling-area">
  <h1 class="hd0"><span class="ts0">Processing GROUP Fields</span></h1>
</div>
<div id="container">
  <div id="content-background">
    <div id="content">
      <p>&nbsp;</p>
      <h2 class="hd0"><span class="ts1">Understanding GROUP Fields</span></h2>
      <p><span class="ts2">The </span><a href="https://www.synergex.com/docs/versions/v111/index.htm#lrm/lrmChap4GROUPENDGROUP.htm" target="_blank" class="hs2">GROUP</a><span class="ts2">&nbsp;statement defines a data structure within a record or another group structure. The ENDGROUP statement indicates the end of a group declaration. A group name must be unique among all other field and group names within a parent group. If a group isn&rsquo;t part of another group, its name must be unique within the record. Here is an example of a record containing several groups:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">record info</span></p>
      <p class="ps12"><span class="ts3">&nbsp; group customer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,[100]a</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,a30</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; group office&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,a</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; bldg&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,a20</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; group address&nbsp;&nbsp; ,a</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; street&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,a40</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,d10</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endgroup</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; endgroup</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; group contact&nbsp;&nbsp;&nbsp;&nbsp; ,a</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,a40</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; group address&nbsp;&nbsp; ,a</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; street&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,a40</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,d10</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endgroup</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; endgroup</span></p>
      <p class="ps12"><span class="ts3">&nbsp; endgroup</span><br /><span class="ts3">endrecord</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <h2 class="hd0"><span class="ts1">Overlay Groups</span></h2>
      <p><span class="ts2">Group fields can also be used to define overlays. By default, CodeGen excludes overlays when processing, and that included the exclusion of overlay groups. However, if the -f o command line option is used to cause overlays to be included when processing, then overlay groups will also be included. When processing in a field loop you can detect whether an unexpanded overlay group is being processed by using the </span><a href="fieldloopexpressiontokens.htm#GROUP_OVERLAY" class="hs2">&lt;IF GROUP_OVERLAY&gt;</a><span class="ts2">&nbsp;expression.</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <h2 class="hd0"><span class="ts1">Implicit and Explicit Groups</span></h2>
      <p><span class="ts2">While DBL has only one type of group, Repository allows you to define groups in two ways. These are referred to as &quot;explicit groups&quot; and &quot;implicit groups&quot;. An explicit group is a group where the group members are defined explicitly within the definition of the group, all within the same structure. An implicit group is a group where the members of the group are defined by the members of a different structure.</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <h2 class="hd0"><span class="ts1">Group Member Prefix</span></h2>
      <p><span class="ts2">When a field is declared as a GROUP it is possible to also provide a &quot;member prefix&quot;, which is a value to be pre-pended to the names of all fields in the group. By default, CodeGen will use any prefix specified, but if you prefer not to use the prefix when generating code then that behavior can be suppressed by specifying the </span><a href="commandlinereference.htm#option_g" class="hs2">-g f</a><span class="ts2">&nbsp;command line option.</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">When processing groups, you can determine whether a group member prefix is present by using the </span><a href="fieldloopexpressiontokens.htm#GROUP_MEMBER_PREFIX" class="hs2">&lt;IF GROUP_MEMBER_PREFIX&gt;</a><span class="ts2">&nbsp;expression, and you can access the prefix value with the </span><a href="fieldloopexpansiontokens.htm#FIELD_GROUP_MEMBER_PREFIX" class="hs2">&lt;FIELD_GROUP_MEMBER_PREFIX&gt;</a><span class="ts2">&nbsp;expansion token.</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <h2 class="hd0"><span class="ts1">How CodeGen Processes Groups</span></h2>
      <p><span class="ts2">Under normal circumstances, whenever CodeGen encounters a GROUP field in a structure, it expands the group into individual fields. So, if a structure contains a group that has ten member fields, then the group field is removed from the structure and ten individual fields are added in its place. And if a group contains other &quot;nested&quot; groups, then the same process is applied to those fields also.&nbsp; For example, given the following structure:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">structure customer</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; customer_id,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a10</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; company_name,&nbsp;&nbsp;&nbsp;&nbsp; a40</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; group address,&nbsp;&nbsp;&nbsp; a</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; street,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a30</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; city,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a20</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; state,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a2</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; zip,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d5</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; endgroup</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; phone,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d10</span></p>
      <p class="ps12"><span class="ts3">endstructure</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">If you use the &lt;field_name&gt; token to access the field names in a </span><a href="fieldloops.htm" class="hs0">field loop</a><span class="ts2">, you would see field names like this: </span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">customer_id</span></p>
      <p class="ps12"><span class="ts3">company_name</span></p>
      <p class="ps12"><span class="ts3">address.street</span></p>
      <p class="ps12"><span class="ts3">address.city</span></p>
      <p class="ps12"><span class="ts3">address.state</span></p>
      <p class="ps12"><span class="ts3">address.zip</span></p>
      <p class="ps12"><span class="ts3">phone</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">If you use the &lt;field_sqlname&gt; token to access the field names in a </span><a href="fieldloops.htm" class="hs2">field loop</a><span class="ts2">, you would see field names like this: </span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">customer_id</span></p>
      <p class="ps12"><span class="ts3">company_name</span></p>
      <p class="ps12"><span class="ts3">address_street</span></p>
      <p class="ps12"><span class="ts3">address_city</span></p>
      <p class="ps12"><span class="ts3">address_state</span></p>
      <p class="ps12"><span class="ts3">address_zip</span></p>
      <p class="ps12"><span class="ts3">phone</span></p>
      <p>&nbsp;</p>
      <h2 class="hd0"><span class="ts1">Controlling Group Expansion</span></h2>
      <p><span class="ts2">If you prefer to not have group fields expanded during code generation then you can control that behavior, for both explicit and implicit groups, via two command-line options. The </span><a href="commandlinereference.htm#option_g" class="hs2">-g e</a><span class="ts2">&nbsp;option prevents explicit groups from being expanded, and the </span><a href="commandlinereference.htm#option_g" class="hs2">-g i</a><span class="ts2">&nbsp;option prevents the expansion of implicit groups.</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">When you use these options the original group field remains in the structure, and the values of some field loop tokens is altered for those fields. When processing a field loop you can detect whether groups are or are not being expanded using expression tokens </span><a href="fieldloopexpressiontokens.htm#EXPLICIT_GROUP_NO_EXPAND" class="hs2">&lt;IF EXPLICIT_GROUP_NO_EXPAND&gt;</a><span class="ts2">&nbsp;and </span><a href="fieldloopexpressiontokens.htm#IMPLICIT_GROUP_NO_EXPAND" class="hs2">&lt;IF IMPLICIT_GROUP_NO_EXPAND&gt;</a><span class="ts2">, and you can detect unexpanded group fields with expressions like </span><a href="fieldloopexpressiontokens.htm#GROUP" class="hs2">&lt;IF GROUP&gt;</a><span class="ts2">, </span><a href="fieldloopexpressiontokens.htm#EXPLICIT_GROUP" class="hs2">&lt;IF EXPLICIT_GROUP&gt;</a><span class="ts2">, </span><a href="fieldloopexpressiontokens.htm#IMPLICIT_GROUP" class="hs2">&lt;IF IMPLICIT_GROUP&gt;</a><span class="ts2">&nbsp;and </span><a href="fieldloopexpressiontokens.htm#GROUP_OVERLAY" class="hs2">&lt;IF GROUP_OVERLAY&gt;</a><span class="ts2">. And when processing an unexpanded implicit group, you can refer to the name of the structure that defines the members of the group via the </span><a href="fieldloopexpansiontokens.htm#FIELD_GROUP_STRUCTURE" class="hs2">&lt;FIELD_GROUP_STRUCTURE&gt;</a><span class="ts2">&nbsp;token.</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <h2 class="hd0"><span class="ts1">Generating Code for Unexpanded Groups</span></h2>
      <p><span class="ts2">This is a complex subject, and one for which there are likely to be many different scenarios, and different requirements, but here is one example, based on the following structure:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">structure CUSTOMER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; CUSTOMER_ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,D8&nbsp;&nbsp; ; Customer ID&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; COMPANY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A40&nbsp; ; Company name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; group BILLING_ADDRESS&nbsp; ,A&nbsp;&nbsp;&nbsp; ; Billing address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; STREET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A30&nbsp; ; Street address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; CITY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A20&nbsp; ; City&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; STATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A2&nbsp;&nbsp; ; State&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; ZIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,D5&nbsp;&nbsp; ; Zip code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; endgroup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; group SHIPPING_ADDRESS ,A&nbsp;&nbsp;&nbsp; ; Shipping address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; STREET&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A30&nbsp; ; Street address&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; CITY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A20&nbsp; ; City&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; STATE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A2&nbsp;&nbsp; ; State&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; ZIP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,D5&nbsp;&nbsp; ; Zip code&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; endgroup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; group PRIMARY_CONTACT&nbsp; ,A&nbsp;&nbsp;&nbsp; ; Primary contact name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; FIRST_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A15&nbsp; ; First name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; MIDDLE_INITIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A1&nbsp;&nbsp; ; Middle initial&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; LAST_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A15&nbsp; ; Last name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; endgroup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; group BILLING_CONTACT&nbsp; ,A&nbsp;&nbsp;&nbsp; ; Billing contact&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; FIRST_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A15&nbsp; ; First name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; MIDDLE_INITIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A1&nbsp;&nbsp; ; Middle initial&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; LAST_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A15&nbsp; ; Last name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; endgroup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; group SHIPPING_CONTACT ,A&nbsp;&nbsp;&nbsp; ; shipping contact&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; FIRST_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A15&nbsp; ; First name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; MIDDLE_INITIAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A1&nbsp;&nbsp; ; Middle initial&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; LAST_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ,A15&nbsp; ; Last name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></p>
      <p class="ps12"><span class="ts3">&nbsp; endgroup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ; </span></p>
      <p class="ps12"><span class="ts3">endstructure</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">In the repository, the groups BILLING_ADDRESS and SHIPPING_ADDRESS are defined as IMPLICIT groups, their fields being defined by a second structure named ADDRESS. Whereas the groups PRIMARY_CONTACT, BILLING_CONTACT and SHIPPING_CONTACT are all defined as explicit groups, i.e. their member fields are defined LOCALLY within the CUSTOMER structure</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">If we wanted to generate a Synergy .NET class to represent this structure, we might use a template like this:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">namespace &lt;NAMESPACE&gt;</span></p>
      <p class="ps12"><br /><span class="ts3">&nbsp;&nbsp;&nbsp; public class &lt;StructureName&gt;</span></p>
      <p class="ps12"><br /><span class="ts3">&lt;FIELD_LOOP&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property &lt;FieldSqlName&gt;, &lt;FIELD_SNTYPE&gt;</span></p>
      <p class="ps12"><span class="ts3">&lt;/FIELD_LOOP&gt;</span></p>
      <p class="ps12"><br /><span class="ts3">&nbsp;&nbsp;&nbsp; endclass</span></p>
      <p class="ps12"><br /><span class="ts3">endnamespace</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">And we might use a codegen command like this:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">codegen -t grouptest -s customer -n MyNamespace</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">And the output would be something like this:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">namespace MyNamespace</span></p>
      <p class="ps12"><br /><span class="ts3">&nbsp;&nbsp;&nbsp; public class Customer</span></p>
      <p class="ps12"><br /><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property CustomerId, int</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property Company, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property BillingAddressStreet, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property BillingAddressCity, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property BillingAddressState, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property BillingAddressZip, int</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingAddressStreet, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingAddressCity, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingAddressState, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingAddressZip, int</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property PrimaryContactFirstName, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property PrimaryContactMiddleInitial, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property PrimaryContactLastName, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property BillingContactFirstName, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property BillingContactMiddleInitial, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property BillingContactLastName, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingContactFirstName, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingContactMiddleInitial, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingContactLastName, String</span></p>
      <p class="ps12"><br /><span class="ts3">&nbsp;&nbsp;&nbsp; endclass</span></p>
      <p class="ps12"><br /><span class="ts3">endnamespace</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">But what if we didn't want to expand the groups into individual properties. What happens if we add the command line options to tell CodeGen not to expand explicit and implicit groups, like this:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">codegen -t grouptest -s customer -n MyNamespace -g e i</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">Well, we wind up with this:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">namespace MyNamespace</span></p>
      <p class="ps12"><br /><span class="ts3">&nbsp;&nbsp;&nbsp; public class Customer</span></p>
      <p class="ps12"><br /><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property CustomerId, int</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property Company, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property BillingAddress, @ADDRESS</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingAddress, @ADDRESS</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property PrimaryContact, @PRIMARY_CONTACT</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property BillingContact, @BILLING_CONTACT</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingContact, @SHIPPING_CONTACT</span></p>
      <p class="ps12"><br /><span class="ts3">&nbsp;&nbsp;&nbsp; endclass</span></p>
      <p class="ps12"><br /><span class="ts3">endnamespace</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">As you can see, the group fields were not expanded, and the data type produced for the unexpanded groups by the </span><a href="fieldloopexpansiontokens.htm#FIELD_SNTYPE" class="hs2">&lt;FIELD_SNTYPE&gt;</a><span class="ts2">&nbsp;token became a class reference. In the case of the two implicit group fields, BILLING_ADDRESS and SHIPPING_ADDRESS, the type refers to a class defined by the name of the other structure that was used to define the group members, and in the case of the three explicit groups, the type refers to a class based on the name of the original group field.</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">This code may or may not compile, depending on whether the three other classed being referred to actually exist or not. Let's explore how we can leverage the functionality of the special </span><a href="fieldloopexpansiontokens.htm#FIELD_GROUP_EXPAND" class="hs2">&lt;FIELD_GROUP_EXPAND&gt;</a><span class="ts2">&nbsp;token to enhance out template:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">namespace &lt;NAMESPACE&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; public class &lt;StructureName&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">&lt;FIELD_LOOP&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp; </span><span class="ts28">&lt;IF GROUP&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; </span><span class="ts29">&lt;IF IMPLICIT_GROUP&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property &lt;FieldSqlName&gt;, @&lt;FIELD_GROUP_STRUCTURE&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; </span><span class="ts29">&lt;ELSE&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public class &lt;FieldName&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="ts30">&lt;FIELD_GROUP_EXPAND&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endclass</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property &lt;FieldSqlName&gt;, @&lt;FieldName&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; </span><span class="ts29">&lt;/IF IMPLICIT_GROUP&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp; </span><span class="ts28">&lt;ELSE&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property &lt;FieldSqlName&gt;, &lt;FIELD_SNTYPE&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp; </span><span class="ts28">&lt;/IF GROUP&gt;</span></p>
      <p class="ps12"><span class="ts3">&lt;/FIELD_LOOP&gt;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; endclass</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">endnamespace</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">This template is a little hard to explain, so we'll break down the most important parts of the template one at a time:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps6"><span style="font-family: Tahoma; font-size: 10pt; color: Black">1.</span><span style="display: inline-block; width: 13px"></span><span class="ts2">Within the field loop, notice that the first thing we do is use an </span><a href="fieldloopexpressiontokens.htm#GROUP" class="hs2">&lt;IF GROUP&gt;</a><span class="ts2">&nbsp;expression to give us a place to do special things for unexpanded groups, and the associated &lt;ELSE&gt; clause provides a place for the code for regular, non-group fields. In fact the code in that &lt;ELSE&gt; clause is the same code that we had in our original template, so for non-group fields we will continue to produce a public read-write property.</span></p>
      <p class="ps6"><span style="font-family: Tahoma; font-size: 10pt; color: Black">2.</span><span style="display: inline-block; width: 13px"></span><span class="ts2">In the unexpanded group section of the field loop, notice how the next thing we do is use the </span><a href="fieldloopexpressiontokens.htm#IMPLICIT_GROUP" class="hs2">&lt;IF EXPLICIT_GROUP&gt;</a><span class="ts2">&nbsp;expression, and it's associated &lt;ELSE&gt; clause, to allow us to generate different code for implicit groups and explicit groups.</span></p>
      <p class="ps6"><span style="font-family: Tahoma; font-size: 10pt; color: Black">3.</span><span style="display: inline-block; width: 13px"></span><span class="ts2">For implicit groups we generate a read-write property and type it using the </span><a href="fieldloopexpansiontokens.htm#FIELD_GROUP_STRUCTURE" class="hs2">&lt;FIELD_GROUP_STRUCTURE&gt;</a><span class="ts2">&nbsp;token. This will result in a reference to the other structure that defines the members for the group.</span></p>
      <p class="ps6"><span style="font-family: Tahoma; font-size: 10pt; color: Black">4.</span><span style="display: inline-block; width: 13px"></span><span class="ts2">For explicit groups we do a little more; we output the code for a nested class (a class within a class, just like a group is kind of like a record within a record), named after the original explicit group field, and we also emit a public property whose type is defined by that new nested class.</span></p>
      <p class="ps6"><span style="font-family: Tahoma; font-size: 10pt; color: Black">5.</span><span style="display: inline-block; width: 13px"></span><span class="ts2">&nbsp;This is where it gets complicated. Notice that the body of the nested class contains a single token called </span><a href="fieldloopexpansiontokens.htm#FIELD_GROUP_EXPAND" class="hs2">&lt;FIELD_GROUP_EXPAND&gt;</a><span class="ts2">, which is a very special token that behaves very differently to most other field loop expansion tokens. Essentially what it does is &quot;replay&quot; the entire body of the field loop that contains it, but for the members of the current group field. If the group field only contains fields as members, then the nested class will simply contain public properties for those fields, but if the group contains members that are other groups, then the exact same process will occur, and on, and on, until all fields have been processed.</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">So, if we process this template, using the exact same CodeGen command that we used last time, the output will look like this:</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p class="ps17"><span class="ts3">namespace MyNamespace</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; public class Customer</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property CustomerId, int</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property Company, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="ts28">public readwrite property BillingAddress, @ADDRESS</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingAddress, @ADDRESS</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="ts30">public class PrimaryContact</span></p>
      <p class="ps12"><span class="ts30">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property FirstName, String</span></p>
      <p class="ps12"><span class="ts30">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property MiddleInitial, String</span></p>
      <p class="ps12"><span class="ts30">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property LastName, String</span></p>
      <p class="ps12"><span class="ts30">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endclass</span></p>
      <p class="ps12"><span class="ts30">&nbsp;</span></p>
      <p class="ps12"><span class="ts30">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property PrimaryContact, @PrimaryContact</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public class BillingContact</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property FirstName, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property MiddleInitial, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property LastName, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endclass</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property BillingContact, @BillingContact</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public class ShippingContact</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property FirstName, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property MiddleInitial, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property LastName, String</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endclass</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; public readwrite property ShippingContact, @ShippingContact</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">&nbsp;&nbsp;&nbsp; endclass</span></p>
      <p class="ps12"><span class="ts3">&nbsp;</span></p>
      <p class="ps12"><span class="ts3">endnamespace</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">As you can see, the regular fields in the structure are exposed as public properties, the implicit groups are exposed as class references to an externally defined class, presumably code-generated separately using a different template, and the explicit groups are implemented as nested classes exposed via public properties.</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">By the way, if you were to process this token without the </span><a href="commandlinereference.htm#option_g" class="hs2">-g e i</a><span class="ts2">&nbsp;command line options, it would produce the exact same content as the original template, because there would not be any unexpended group fields present.</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">And I should also mention that if you use the sample templates from this article, the output won't be exactly as shown here; we are still working on how to get appropriate indentation when we iterate through multiple levels of groups with a single expansion token, so for the time being the code may look a little onorganized, but that's nothing that a quick CTRL+K+D in the Visual Studio editor can't fix!</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <p><span class="ts2">&nbsp;</span></p>
      <div>
        <hr class="hline1" />
      </div>
      <p class="ps8"><span class="ts10">Copyright &copy; 2021&nbsp; Synergex International, Inc.</span></p>
    </div>
  </div>
</div>
</body>
</html>